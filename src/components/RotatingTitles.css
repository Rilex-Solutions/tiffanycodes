/**
 * 3D Rotating Text Animation Styles
 * 
 * Inline rotating text effect for hero titles
 * Optimized for performance and accessibility
 */

/* Main container */
.rotating-stage {
  width: auto;
  height: 80px;
  margin-top: 8px;
  perspective: 400px;
  display: inline-block;
}

/* 3D animation container */
.rotating-cubespinner {
  animation-name: spincube;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: var(--animation-duration, 12s);
  transform-style: preserve-3d;
  transform-origin: 40px 40px 0;
  position: relative;
}

/* Individual rotating text faces */
.rotating-face {
  position: absolute;
  width: auto;
  min-width: 400px;
  height: 80px;
  text-align: left;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  line-height: 1.2;
  backface-visibility: hidden;
  white-space: nowrap;
  color: #111827; /* Consistent black for all titles */
}

/* 3D Face Positioning - Adapted for 3 faces (120° intervals) */
.rotating-face-1 {
  transform: translateZ(40px);
}

.rotating-face-2 {
  transform: rotateX(120deg) translateZ(40px);
}

.rotating-face-3 {
  transform: rotateX(240deg) translateZ(40px);
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* 3D Rotation Animation - 3 faces at 120° intervals */
@keyframes spincube {
  from, to {
    transform: rotateX(0deg);
  }
  25% {
    transform: rotateX(0deg);
  }
  33.33% {
    transform: rotateX(-120deg);
  }
  58.33% {
    transform: rotateX(-120deg);
  }
  66.66% {
    transform: rotateX(-240deg);
  }
  91.66% {
    transform: rotateX(-240deg);
  }
  100% {
    transform: rotateX(-360deg);
  }
}

/* Responsive Design */
@media (max-width: 1024px) {
  .rotating-face {
    min-width: 350px;
  }
}

@media (max-width: 768px) {
  .rotating-stage {
    height: 60px;
  }
  
  .rotating-face {
    min-width: 280px;
    height: 60px;
  }
  
  .rotating-cubespinner {
    transform-origin: 30px 30px 0;
  }
  
  .rotating-face-1 {
    transform: translateZ(30px);
  }
  
  .rotating-face-2 {
    transform: rotateX(120deg) translateZ(30px);
  }
  
  .rotating-face-3 {
    transform: rotateX(240deg) translateZ(30px);
  }
}

@media (max-width: 480px) {
  .rotating-stage {
    height: 50px;
  }
  
  .rotating-face {
    min-width: 240px;
    height: 50px;
  }
  
  .rotating-cubespinner {
    transform-origin: 25px 25px 0;
  }
  
  .rotating-face-1 {
    transform: translateZ(25px);
  }
  
  .rotating-face-2 {
    transform: rotateX(120deg) translateZ(25px);
  }
  
  .rotating-face-3 {
    transform: rotateX(240deg) translateZ(25px);
  }
}

/* Accessibility - Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .rotating-cubespinner {
    animation: none;
  }
  
  .rotating-face-2,
  .rotating-face-3 {
    display: none;
  }
  
  .rotating-face-1 {
    transform: translateZ(0px);
  }
}

/* Hover to pause animation */
.rotating-stage:hover .rotating-cubespinner {
  animation-play-state: paused;
}

/* Performance optimizations */
.rotating-cubespinner,
.rotating-face {
  will-change: transform;
}

.rotating-stage {
  transform: translateZ(0);
  backface-visibility: hidden;
}